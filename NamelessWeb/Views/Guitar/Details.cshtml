@model NamelessWeb.Views.ViewModels.GuitarViewModel

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap.min.js"></script>
<head>
    <%: Html.HiddenFor(model => model.Availability) %>
</head>
<br/>

    <h2>Details</h2>
@using (Html.BeginForm("Details","Guitar"))
{
    @Html.HiddenFor(m=>m.GuitarId)
    <div id="detailsForm" >
        <h2 style="color:black; font-weight:100"> @Html.DisplayFor(model => model.BrandName) @Html.DisplayFor(model => model.GuitarModel)
        </h2>
        
        <div>
        
            <hr />
            <img src="@Url.Content("~/Content/Img/guitar/" + Model.ImageLink)" style="max-height: 350px; background-position-x:center;">
            <dl class="dl-horizontal" style="color:black; font-weight:100; font-size:22px">

                <dt>
                    Body Type:
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.TypeName)
                </dd>

                <dt>
                    Price:
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Price)
                </dd>

                <dt>
                    Warranty:
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.InsuranceName)
                </dd>

                <dt>
                    Electrified:
                </dt>

                <dd>
                    @(Model.Electricfied ? "Yes" : "No")
                </dd>

                <dt>
                    Specification
                </dt>
                <dd>        
                </dd>
                <dt>
                    Top wood:
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.TopName)
                </dd>

                <dt>
                    Side Wood:
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.SideName)
                </dd>

                <dt>
                    Back Wood:
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.BackName)
                </dd>

                <dt>
                    Neck Wood:
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.NeckName)
                </dd>

                <dt>
                    FretBoard:
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.FingsName)
                </dd>
        
                <dt>
                    Description
                </dt>
                <dd>
                    @Html.DisplayTextFor(model => model.Description)
                </dd>             c 
            </dl>
        </div>
        @if (Model.Availability==0)
        {          
            <!-- Trigger the modal with a button -->
            <button type="submit" value="Save" class="btn btn-info btn-lg btn-success" data-toggle="modal" data-target="#myModal" id="btnDisplay">Order</button>
             <!-- Modal -->
            <div class="modal fade" id="myModal" role="dialog">
                <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header" style="background-color: saddlebrown">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body" style="background-color:sandybrown">
                            <p>Are you sure to order?</p>
                        </div>
                        <div class="modal-footer" style="background-color: saddlebrown">
                            <!-- Choose to do it-->
                            <input type="submit" value="Save" class="btn btn-default" data-toggle="modal" data-target="#myModal2" id="btnDisplay" style="background-color:green; color:black;" />                           
                            <button type="button" class="btn btn-default" data-dismiss="modal" style="background-color:red; color:black">No</button>

                            <div class="modal fade" id="myModal2" role="dialog">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">                                           
                                            <h4 class="modal-title">Congratulation</h4>
                                        </div>
                                        <div class="modal-body">
                                            <p>You've ordered successfully</p>
                                        </div>
                                        <div class="modal-footer">
                                            <input type="submit" value="Save" class="btn btn-default" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }              
     </div>          
}


<script>
    //$(document).ready(function() {
    //    $("#btnSubmit").click(function() {
    //        var myformData = $("#detailsForm").serialize();
    //        $.ajax({
    //            type: "POST",
    //            url:"/Guitar/Details",
    //            data: myformData,
    //            success: function() {
    //                $("#myModal").modal("hide");
    //            }
    //        })
    //    })
    //})
    var x = document.getElementById('Availability').value;
    var y;
    if (x==0) {
          
    }
</script>

@section scripts
{
    @Scripts.Render("~/bundles/jqueryval");
}
